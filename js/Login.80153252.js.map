{"version":3,"sources":["webpack:///./src/views/LoginPage.vue?7016","webpack:///./src/helpers/https.js","webpack:///src/views/LoginPage.vue","webpack:///./src/views/LoginPage.vue?1674","webpack:///./src/views/LoginPage.vue","webpack:///./src/views/LoginPage.vue?e60c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","onSubmit","attrs","IsValidAccount","model","value","login","callback","$$v","$set","expression","IsValidPassword","IsRememberMe","staticRenderFns","axiosInstance","axios","create","baseURL","interceptors","request","use","config","token","store","state","auth","headers","Authorization","method","url","data","toLowerCase","post","get","params","put","delete","console","error","created","JSON","parse","localStorage","getItem","Account","Password","methods","event","preventDefault","length","setItem","info","isLogin","user","Name","Image","log","response","component"],"mappings":"uIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACE,YAAY,mCAAmC,CAACF,EAAG,KAAK,CAACE,YAAY,mCAAmC,CAACN,EAAIO,GAAG,UAAUH,EAAG,SAAS,CAACE,YAAY,mCAAmCE,GAAG,CAAC,OAASR,EAAIS,WAAW,CAACL,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,eAAe,CAACM,MAAM,CAAC,GAAK,gBAAgB,MAAQ,OAAO,YAAY,YAAY,CAACN,EAAG,eAAe,CAACM,MAAM,CAAC,GAAK,UAAU,KAAO,KAAK,YAAc,gBAAgB,MAAQV,EAAIW,gBAAgBC,MAAM,CAACC,MAAOb,EAAIc,MAAa,QAAEC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIc,MAAO,UAAWE,IAAME,WAAW,mBAAmBd,EAAG,0BAA0B,CAACM,MAAM,CAAC,MAAQV,EAAIW,iBAAiB,CAACX,EAAIO,GAAG,eAAe,IAAI,GAAGH,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,eAAe,CAACM,MAAM,CAAC,GAAK,iBAAiB,MAAQ,OAAO,YAAY,aAAa,CAACN,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,KAAO,KAAK,YAAc,iBAAiB,MAAQV,EAAImB,iBAAiBP,MAAM,CAACC,MAAOb,EAAIc,MAAc,SAAEC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIc,MAAO,WAAYE,IAAME,WAAW,oBAAoBd,EAAG,0BAA0B,CAACM,MAAM,CAAC,MAAQV,EAAImB,kBAAkB,CAACnB,EAAIO,GAAG,eAAe,IAAI,GAAGH,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,kBAAkB,CAACM,MAAM,CAAC,GAAK,aAAa,KAAO,aAAa,MAAQ,OAAO,kBAAkB,SAASE,MAAM,CAACC,MAAOb,EAAgB,aAAEe,SAAS,SAAUC,GAAMhB,EAAIoB,aAAaJ,GAAKE,WAAW,iBAAiB,CAAClB,EAAIO,GAAG,YAAY,GAAGH,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,WAAW,CAACE,YAAY,aAAaI,MAAM,CAAC,KAAO,SAAS,QAAU,YAAY,CAACV,EAAIO,GAAG,SAAS,MAAM,IAAI,IACvtDc,EAAkB,G,6CCElBC,EAAgBC,IAAMC,OAAO,CAC7BC,QAAQ,gCAGZH,EAAcI,aAAaC,QAAQC,KAAI,SAACC,GACpC,IAAMC,EAAQC,OAAMC,MAAMC,KAAKH,MAI/B,OAHY,MAATA,IACCD,EAAOK,QAAQC,cAAgB,UAAYL,GAExCD,KAKI,eAASO,EAAQC,GAAe,IAAVC,EAAU,uDAAL,KAEtC,OADAF,EAASA,EAAOG,cACTH,GACH,IAAK,OACD,OAAOd,EAAckB,KAAKH,EAAKC,GACnC,IAAK,MACD,OAAOhB,EAAcmB,IAAIJ,EAAK,CAACK,OAAOJ,IAC1C,IAAK,MACD,OAAOhB,EAAcqB,IAAIN,EAAKC,GAClC,IAAK,SACD,OAAOhB,EAAcsB,OAAOP,EAAK,CAACK,OAAOJ,IAC7C,QAEI,OADAO,QAAQC,MAAM,YAAcV,IACrB,ICcnB,GACEW,QADF,WAEA,uCACM9C,KAAKa,MAAQkC,KAAKC,MAAMC,aAAaC,QAAQ,aAGjDb,KANF,WAOI,MAAJ,CACMxB,MAAN,CACQsC,QAAR,GACQC,SAAR,IAEM1C,eAAN,KACMQ,gBAAN,KACMC,aAAN,UAGEkC,QAAF,CACI7C,SAAJ,uBAKM,GAJA8C,EAAMC,iBACNvD,KAAKU,eAAiBV,KAAKa,MAAMsC,QAAQK,OAAS,EAClDxD,KAAKkB,gBAAkBlB,KAAKa,MAAMuC,SAASI,OAAS,EAE1D,2BACQ,IAAR,6BACQP,aAAaQ,QAAQ,SAAUC,GAGvC,2CACQ,EAAR,2BACA,kBACU,IAAV,SACU,EAAV,gCACY7B,MAAZ,EACY8B,SAAZ,EACYC,KAAZ,CACcC,KAAd,GACcC,MAAd,MAIU,EAAV,eACA,kBACYlB,QAAQmB,IAAIC,GACZ,EAAZ,gCACcnC,MAAd,EACc8B,SAAd,EACcC,KAAd,CACgBC,KAAhB,YACgBC,MAAhB,gBAGYb,aAAaQ,QAAQ,OAAQ,WAE7B,EAAZ,OACA,aACA,eACA,qBACA,6BACA,yBACA,iBACc,EAAd,4BCzGmV,I,wBCQ/UQ,EAAY,eACd,EACAnE,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAA6C,E,6CCnBf,yBAA2d,EAAG","file":"js/Login.80153252.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',{staticClass:\"px-5 py-5 my-3 bg-light rounded\"},[_c('h3',{staticClass:\"title mb-3 pb-2 w-100 text-left\"},[_vm._v(\"登入會員\")]),_c('b-form',{staticClass:\"w-100 bg-white rounded py-3 px-5\",on:{\"submit\":_vm.onSubmit}},[_c('div',{staticClass:\"w-50 text-left mx-auto\"},[_c('b-form-group',{attrs:{\"id\":\"account-label\",\"label\":\"帳號 :\",\"label-for\":\"account\"}},[_c('b-form-input',{attrs:{\"id\":\"account\",\"size\":\"lg\",\"placeholder\":\"Enter Account\",\"state\":_vm.IsValidAccount},model:{value:(_vm.login.Account),callback:function ($$v) {_vm.$set(_vm.login, \"Account\", $$v)},expression:\"login.Account\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.IsValidAccount}},[_vm._v(\" 不合法的帳號 \")])],1)],1),_c('div',{staticClass:\"w-50 text-left mx-auto\"},[_c('b-form-group',{attrs:{\"id\":\"password-label\",\"label\":\"密碼 :\",\"label-for\":\"password\"}},[_c('b-form-input',{attrs:{\"type\":\"password\",\"id\":\"password\",\"size\":\"lg\",\"placeholder\":\"Enter Password\",\"state\":_vm.IsValidPassword},model:{value:(_vm.login.Password),callback:function ($$v) {_vm.$set(_vm.login, \"Password\", $$v)},expression:\"login.Password\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.IsValidPassword}},[_vm._v(\" 不合法的密碼 \")])],1)],1),_c('div',{staticClass:\"w-50 text-left mx-auto\"},[_c('b-form-checkbox',{attrs:{\"id\":\"rememberMe\",\"name\":\"rememberMe\",\"value\":\"true\",\"unchecked-value\":\"false\"},model:{value:(_vm.IsRememberMe),callback:function ($$v) {_vm.IsRememberMe=$$v},expression:\"IsRememberMe\"}},[_vm._v(\" 記住我 \")])],1),_c('div',{staticClass:\"w-50 py-3 text-right mx-auto\"},[_c('b-button',{staticClass:\"text-right\",attrs:{\"type\":\"submit\",\"variant\":\"success\"}},[_vm._v(\"登入\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport store from '../store';\r\n\r\nvar axiosInstance = axios.create({\r\n    baseURL:'https://localhost:44382/api'\r\n});\r\n\r\naxiosInstance.interceptors.request.use((config) => {\r\n    const token = store.state.auth.token;\r\n    if(token != null){\r\n        config.headers.Authorization = 'Bearer ' + token;\r\n    }\r\n    return config;\r\n}), (error) => {\r\n    console.log(error);\r\n}\r\n\r\nexport default function(method, url, data=null){\r\n    method = method.toLowerCase();\r\n    switch(method){\r\n        case 'post':\r\n            return axiosInstance.post(url, data);\r\n        case 'get':\r\n            return axiosInstance.get(url, {params:data});\r\n        case 'put':\r\n            return axiosInstance.put(url, data);\r\n        case 'delete':\r\n            return axiosInstance.delete(url, {params:data});\r\n        default:\r\n            console.error('未知的method' + method);\r\n            return false;\r\n    }\r\n}","<template>\r\n    <b-container>\r\n        <b-row class=\"px-5 py-5 my-3 bg-light rounded\">\r\n            <h3 class=\"title mb-3 pb-2 w-100 text-left\">登入會員</h3>\r\n            <b-form class=\"w-100 bg-white rounded py-3 px-5\" @submit=\"onSubmit\">\r\n              <div class=\"w-50 text-left mx-auto\">\r\n                  <b-form-group id=\"account-label\" label=\"帳號 :\" label-for=\"account\">\r\n                      <b-form-input id=\"account\" size=\"lg\" v-model=\"login.Account\" placeholder=\"Enter Account\" :state=\"IsValidAccount\"></b-form-input>\r\n                      <b-form-invalid-feedback :state=\"IsValidAccount\">\r\n                          不合法的帳號\r\n                      </b-form-invalid-feedback>\r\n                  </b-form-group>\r\n              </div>\r\n              <div class=\"w-50 text-left mx-auto\">\r\n                  <b-form-group id=\"password-label\" label=\"密碼 :\" label-for=\"password\">\r\n                      <b-form-input type=\"password\" id=\"password\" size=\"lg\" v-model=\"login.Password\" placeholder=\"Enter Password\" :state=\"IsValidPassword\"></b-form-input>\r\n                      <b-form-invalid-feedback :state=\"IsValidPassword\">\r\n                          不合法的密碼\r\n                      </b-form-invalid-feedback>\r\n                  </b-form-group>\r\n              </div>\r\n              <div class=\"w-50 text-left mx-auto\">\r\n                <b-form-checkbox\r\n                  id=\"rememberMe\"\r\n                  name=\"rememberMe\"\r\n                  v-model=\"IsRememberMe\"\r\n                  value=\"true\"\r\n                  unchecked-value=\"false\"\r\n                >\r\n                  記住我\r\n                </b-form-checkbox>\r\n              </div>\r\n              <div class=\"w-50 py-3 text-right mx-auto\">\r\n                <b-button type=\"submit\" variant=\"success\" class=\"text-right\">登入</b-button>\r\n              </div>\r\n            </b-form>\r\n        </b-row>\r\n    </b-container>\r\n</template>\r\n\r\n<script>\r\n// import Axios from 'axios';\r\nimport axios from '../helpers/https'\r\n\r\nexport default {\r\n  created(){\r\n    if(localStorage.getItem('myInfo') != null){\r\n      this.login = JSON.parse(localStorage.getItem('myInfo'));\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      login:{\r\n        Account:\"\",\r\n        Password:\"\"\r\n      },\r\n      IsValidAccount:null,\r\n      IsValidPassword:null,\r\n      IsRememberMe:\"false\",\r\n    }\r\n  },\r\n  methods:{\r\n    onSubmit:function(event){\r\n      event.preventDefault();\r\n      this.IsValidAccount = this.login.Account.length > 0;\r\n      this.IsValidPassword = this.login.Password.length > 0;\r\n\r\n      if(this.IsRememberMe == \"true\"){\r\n        let info = JSON.stringify(this.login)\r\n        localStorage.setItem(\"myInfo\", info)\r\n      }\r\n\r\n      if(this.IsValidAccount && this.IsValidPassword){\r\n        axios(\"get\",\"/Login\", this.login)\r\n        .then((response) => {\r\n          let token = response.data;\r\n          this.$store.dispatch('auth/setAuth', {\r\n            token:token,\r\n            isLogin:true,\r\n            user:{\r\n              Name:\"\",\r\n              Image:\"\"\r\n            }\r\n          })\r\n\r\n          axios(\"get\", '/User')\r\n          .then((response) => {\r\n            console.log(response);\r\n            this.$store.dispatch('auth/setAuth', {\r\n              token:token,\r\n              isLogin:true,\r\n              user:{\r\n                Name:response.data.name,\r\n                Image:response.data.image\r\n              }\r\n            })\r\n            localStorage.setItem('Flag', 'isLogin')\r\n            \r\n            this.$swal({\r\n            title: '登入成功',\r\n            icon: 'success',\r\n            showConfirmButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            confirmButtonText: '確認'\r\n            }).then(() => {\r\n                this.$router.go('/')\r\n            })\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scope>\r\n.title {\r\n    border-bottom: 2px solid #ccc;\r\n}\r\nlabel {\r\n    font-size: 20px;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginPage.vue?vue&type=template&id=31bc2e76&\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginPage.vue?vue&type=style&index=0&scope=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=style&index=0&scope=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=style&index=0&scope=true&lang=css&\""],"sourceRoot":""}