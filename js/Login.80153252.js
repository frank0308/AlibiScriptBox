(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{4532:function(t,e,s){},"48ca":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",[s("b-row",{staticClass:"px-5 py-5 my-3 bg-light rounded"},[s("h3",{staticClass:"title mb-3 pb-2 w-100 text-left"},[t._v("登入會員")]),s("b-form",{staticClass:"w-100 bg-white rounded py-3 px-5",on:{submit:t.onSubmit}},[s("div",{staticClass:"w-50 text-left mx-auto"},[s("b-form-group",{attrs:{id:"account-label",label:"帳號 :","label-for":"account"}},[s("b-form-input",{attrs:{id:"account",size:"lg",placeholder:"Enter Account",state:t.IsValidAccount},model:{value:t.login.Account,callback:function(e){t.$set(t.login,"Account",e)},expression:"login.Account"}}),s("b-form-invalid-feedback",{attrs:{state:t.IsValidAccount}},[t._v(" 不合法的帳號 ")])],1)],1),s("div",{staticClass:"w-50 text-left mx-auto"},[s("b-form-group",{attrs:{id:"password-label",label:"密碼 :","label-for":"password"}},[s("b-form-input",{attrs:{type:"password",id:"password",size:"lg",placeholder:"Enter Password",state:t.IsValidPassword},model:{value:t.login.Password,callback:function(e){t.$set(t.login,"Password",e)},expression:"login.Password"}}),s("b-form-invalid-feedback",{attrs:{state:t.IsValidPassword}},[t._v(" 不合法的密碼 ")])],1)],1),s("div",{staticClass:"w-50 text-left mx-auto"},[s("b-form-checkbox",{attrs:{id:"rememberMe",name:"rememberMe",value:"true","unchecked-value":"false"},model:{value:t.IsRememberMe,callback:function(e){t.IsRememberMe=e},expression:"IsRememberMe"}},[t._v(" 記住我 ")])],1),s("div",{staticClass:"w-50 py-3 text-right mx-auto"},[s("b-button",{staticClass:"text-right",attrs:{type:"submit",variant:"success"}},[t._v("登入")])],1)])],1)],1)},o=[],n=(s("b0c0"),s("bc3a")),r=s.n(n),i=s("4360"),l=r.a.create({baseURL:"https://localhost:44382/api"});l.interceptors.request.use((function(t){var e=i["a"].state.auth.token;return null!=e&&(t.headers.Authorization="Bearer "+e),t}));var c=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(t=t.toLowerCase(),t){case"post":return l.post(e,s);case"get":return l.get(e,{params:s});case"put":return l.put(e,s);case"delete":return l.delete(e,{params:s});default:return console.error("未知的method"+t),!1}},u={created:function(){null!=localStorage.getItem("myInfo")&&(this.login=JSON.parse(localStorage.getItem("myInfo")))},data:function(){return{login:{Account:"",Password:""},IsValidAccount:null,IsValidPassword:null,IsRememberMe:"false"}},methods:{onSubmit:function(t){var e=this;if(t.preventDefault(),this.IsValidAccount=this.login.Account.length>0,this.IsValidPassword=this.login.Password.length>0,"true"==this.IsRememberMe){var s=JSON.stringify(this.login);localStorage.setItem("myInfo",s)}this.IsValidAccount&&this.IsValidPassword&&c("get","/Login",this.login).then((function(t){var s=t.data;e.$store.dispatch("auth/setAuth",{token:s,isLogin:!0,user:{Name:"",Image:""}}),c("get","/User").then((function(t){console.log(t),e.$store.dispatch("auth/setAuth",{token:s,isLogin:!0,user:{Name:t.data.name,Image:t.data.image}}),localStorage.setItem("Flag","isLogin"),e.$swal({title:"登入成功",icon:"success",showConfirmButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"確認"}).then((function(){e.$router.go("/")}))}))}))}}},d=u,m=(s("9ccf"),s("2877")),f=Object(m["a"])(d,a,o,!1,null,null,null);e["default"]=f.exports},"9ccf":function(t,e,s){"use strict";var a=s("4532"),o=s.n(a);o.a}}]);
//# sourceMappingURL=Login.80153252.js.map